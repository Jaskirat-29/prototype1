<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MindMates — Backend Overview (SIH)</title>
  <style>
    :root{
      --bg:#f4f8fb; --card:#fff; --muted:#7a8693; --accent:#2f86d6;
      --success:#2e9f6e; --danger:#e74c3c; --glass: rgba(255,255,255,0.7);
      --mono: "Courier New", monospace;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #f6fbff 0%, var(--bg) 100%);
      color:#213042; -webkit-font-smoothing:antialiased;
      line-height:1.45;
      padding:28px;
    }
    .wrap{max-width:1100px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    h1{font-size:1.6rem;margin:0}
    .sub{color:var(--muted);font-size:0.95rem}
    .grid{display:grid;grid-template-columns:1fr 380px;gap:20px;margin-top:18px}
    /* left column */
    .panel{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(32,45,60,0.06)}
    .section-title{display:flex;align-items:center;gap:10px;margin-bottom:12px}
    .pill{background:linear-gradient(90deg,#e6f1ff, #ffffff);padding:6px 10px;border-radius:999px;color:var(--accent);font-weight:600;font-size:0.85rem}
    /* architecture boxes */
    .arch{display:flex;gap:12px;flex-wrap:wrap}
    .box{flex:1 1 220px;border-radius:10px;padding:12px;background:linear-gradient(180deg,#ffffff, #fbfdff);border:1px solid #e6eef7}
    .box h3{margin:0 0 8px 0;font-size:1rem}
    .box p{margin:0;color:var(--muted);font-size:0.92rem}
    .arrow{align-self:center;font-size:22px;color:#9fb7d9;margin:0 8px}
    /* endpoints table */
    table{width:100%;border-collapse:collapse;margin-top:10px;font-size:0.95rem}
    th,td{padding:10px 8px;border-bottom:1px solid #eef4fa;text-align:left}
    th{font-weight:700;background:transparent;color:#33475b}
    .code{font-family:var(--mono);font-size:0.86rem;background:#f7fbff;padding:8px;border-radius:6px;border:1px solid #e6f0fb;color:#0b2b4a}
    .badge{display:inline-block;padding:6px 8px;border-radius:8px;font-weight:700;font-size:0.82rem}
    .badge-auth{background:#eef6ff;color:var(--accent);border:1px solid #d7eefe}
    .badge-safe{background:#eaf9f1;color:var(--success);color:#075c35;border:1px solid #cfeee0}
    .notes{font-size:0.92rem;color:var(--muted);margin-top:12px}
    /* right column */
    .right-col{display:flex;flex-direction:column;gap:14px}
    .callout{padding:12px;border-radius:10px;border:1px solid #e6eef7;background:linear-gradient(180deg,#fff,#fbfeff)}
    .small{font-size:0.86rem;color:var(--muted)}
    .codeblock{background:#0b2b4a;color:#d6eefb;padding:10px;border-radius:8px;font-family:var(--mono);font-size:0.82rem;overflow:auto}
    footer{margin-top:18px;text-align:center;color:var(--muted);font-size:0.88rem}
    /* responsive */
    @media (max-width:980px){
      .grid{grid-template-columns:1fr; padding-bottom:30px}
      .arrow{display:none}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>MindMates — Backend Overview</h1>
        <div class="sub">Digital Mental Health & Psychological Support System — MedTech / HealthTech (SIH)</div>
      </div>
      <div style="text-align:right">
        <div class="pill">Team: MindMates</div>
        <div class="small" style="margin-top:8px">Demo backend: FastAPI + JWT + SQLite (starter)</div>
      </div>
    </header>

    <div class="grid">
      <!-- LEFT: architecture + endpoints -->
      <div>
        <div class="panel">
          <div class="section-title"><div class="pill">Architecture</div></div>

          <div class="arch" aria-hidden="true">
            <div class="box">
              <h3>Frontend (Web / Mobile)</h3>
              <p>React / native client. Sends authenticated API requests (OpenAPI / Swagger for testing).</p>
            </div>

            <div class="arrow">→</div>

            <div class="box">
              <h3>API Layer (FastAPI)</h3>
              <p>REST endpoints, OAuth2 password flow, JWT auth, OpenAPI auto-docs (/docs). :contentReference[oaicite:0]{index=0}</p>
            </div>

            <div class="arrow">→</div>

            <div class="box">
              <h3>Data & Services</h3>
              <p>Postgres/SQLite for demo, Twilio for SOS, WebSocket signaling for chat/video.</p>
            </div>
          </div>

          <div style="margin-top:18px">
            <div class="section-title"><strong>Core API Endpoints</strong></div>
            <table>
              <thead><tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr></thead>
              <tbody>
                <tr><td class="code">/users</td><td>POST</td><td>Create user (register)</td></tr>
                <tr><td class="code">/token</td><td>POST</td><td>Login -> returns <span class="badge badge-auth">JWT</span></td></tr>
                <tr><td class="code">/moods</td><td>POST</td><td>Create mood entry (protected)</td></tr>
                <tr><td class="code">/assessments</td><td>POST</td><td>Submit self-assessment (protected)</td></tr>
                <tr><td class="code">/resources</td><td>GET</td><td>List guides / modules (public)</td></tr>
                <tr><td class="code">/sos</td><td>POST</td><td>Trigger SOS (calls/sms via Twilio) — confirm on frontend</td></tr>
              </tbody>
            </table>

            <div class="notes">
              <strong>Why FastAPI?</strong> Automatic OpenAPI/interactive docs (Swagger UI) speed up demos & client integration. :contentReference[oaicite:1]{index=1}
            </div>
          </div>
        </div>

        <div class="panel" style="margin-top:14px">
          <div class="section-title"><strong>Auth Flow (high level)</strong></div>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div class="box" style="flex:1 1 260px">
              <h3>1) Login</h3>
              <p>Client submits email+password to <span class="code">/token</span> (OAuth2 password flow). Server returns JWT with short expiry. :contentReference[oaicite:2]{index=2}</p>
            </div>
            <div class="box" style="flex:1 1 260px">
              <h3>2) Protected Calls</h3>
              <p>Client includes <em>Authorization: Bearer &lt;token&gt;</em> for protected endpoints. Backend verifies token & user. </p>
            </div>
            <div class="box" style="flex:1 1 260px">
              <h3>3) Refresh & Safety</h3>
              <p>Use refresh tokens or short access TTLs; log important events (SOS triggers) for audit. Consider gating docs in prod. :contentReference[oaicite:3]{index=3}</p>
            </div>
          </div>
        </div>

        <div class="panel" style="margin-top:14px">
          <div class="section-title"><strong>Security & Privacy (short)</strong></div>
          <p class="small">
            Treat mood logs and assessments as sensitive — encrypt in transit (HTTPS) and at rest, minimal logging, role-based access, and data retention policies. For production, consult legal for compliance with regional laws (GDPR/HIPAA-like practices recommended). :contentReference[oaicite:4]{index=4}
          </p>
        </div>
      </div>

      <!-- RIGHT: quick snippets + run steps -->
      <aside class="right-col">
        <div class="callout panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>Quick code sample — create mood (example)</strong>
            <span class="badge badge-safe">Demo</span>
          </div>
          <div style="margin-top:8px" class="codeblock">
POST /moods
Authorization: Bearer &lt;token&gt;

JSON body:
{
  "mood": 6,
  "note": "Feeling a bit anxious after exams"
}
          </div>
        </div>

        <div class="callout panel">
          <strong>Minimal run steps (demo)</strong>
          <p class="small" style="margin-top:8px">
            1. Create virtualenv & install requirements.<br>
            2. Export <code>SECRET_KEY</code> and optionally Twilio env vars.<br>
            3. Run: <span class="code">uvicorn app.main:app --reload --port 8080</span><br>
            4. Open <span class="code">http://localhost:8080/docs</span> to show interactive API docs (Swagger). :contentReference[oaicite:5]{index=5}
          </p>
        </div>

        <div class="callout panel">
          <strong>API docs & UX tips</strong>
          <p class="small" style="margin-top:8px">
            - Use clear examples in OpenAPI schemas so frontend teams can copy cURL / fetch calls.<br>
            - Include error & rate-limit documentation; keep examples concise. See API docs best practices. :contentReference[oaicite:6]{index=6}
          </p>
        </div>

        <div class="panel" style="padding:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <strong>Presentation notes</strong>
              <div class="small" style="margin-top:6px">Use this slide to: (1) show architecture, (2) demo a request in /docs, (3) explain privacy safeguards & SOS flow.</div>
            </div>
            <div style="text-align:right;font-size:0.85rem;color:var(--muted)">SIH: Backend Overview</div>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      Sources: FastAPI OAuth2 + JWT, OpenAPI auto docs (Swagger), FastAPI features, API docs best practices. :contentReference[oaicite:7]{index=7}
    </footer>
  </div>
</body>
</html>
